<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Boxicons -->
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <!-- My CSS -->
    <link rel="stylesheet" href="/css/addPet.css">
    <link rel="icon" href="/images/logo.png" type="image/icon type" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="/Js/DrLogin.js"></script>
    <title>UserHub</title>
</head>
<body>


<!-- SIDEBAR -->
<section id="sidebar">
	<a th:href="@{/user/index}" class="brand">
		<i class='bx bxs-smile'></i>
		<span class="text">UserHub</span>
	</a>
	<ul class="side-menu top">
		<li class="active">
			<a th:href="@{/user/profile}">
				<i class='bx bxs-dashboard'></i>
				<span class="text">Profile</span>
			</a>
		</li>
		<li>
			<a th:href="@{/user/addPet}">
				<i class='bx bxs-group' ></i>
				<span class="text">Add Pet</span>
			</a>
		</li>
		
		<li>
			<a th:href="@{user/pets}">
				<i class='bx bx-plus-medical'></i>
				<span class="text">Pets</span>
			</a>
		</li>
	</ul>
	<ul class="side-menu">
		<li>
			<a href="#">
				<i class='bx bxs-cog' ></i>
				<span class="text">Settings</span>
			</a>
		</li>
		<li>
			<a href="#" class="logout">
				<i class='bx bxs-log-out-circle' ></i>
				<span class="text">Logout</span>
			</a>
		</li>
	</ul>
</section>
<!-- SIDEBAR -->



	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
		<nav>
			<i class='bx bx-menu' ></i>
			<a href="#" class="nav-link">Categories</a>
			<form action="#">
				<div class="form-input">
					<input type="search" placeholder="Search...">
					<button type="submit" class="search-btn"><i class='bx bx-search'title="submit" ></i></button>
				</div>
			</form>
			<a href="#" class="profile">
				<img src="../../static/images/profile.jpg" title="profile">
			</a>
		</nav>
		<!-- NAVBAR -->

		<!-- MAIN -->
		<main>
			<div class="head-title">
				<div class="left">
					<h1>Profile</h1>
					<ul class="breadcrumb">
						<li>
							<a href="#">UserProfile</a>
						</li>
						<li><i class='bx bx-chevron-right' ></i></li>
						<li>
							<a class="active" href="#">profile</a>
						</li>
					</ul>
				</div>
			</div>
		<!-- NAVBAR -->
		<!-- MAIN -->
		<!-- SIDEBAR -->
		<h1>Edit profile</h1>

		<form th:action="@{/user/{id}/editUser(id=${user.id})}" method="post" onsubmit="return validateLoginForm()">
			<input type="hidden" id="id" name="id" th:value="${user.id}">

			<label for="name">Name:</label>
			<input type="text" id="name" name="username" th:value="${user.username}" required><br>

			<label for="email">Email:</label>
			<input type="text" id="email" name="email" th:value="${user.email}" required><br>

			<label for="phonenumber"> phonenumber:</label>
			<input type="text" id="phonenumber" name="phonenumber" th:value="${user.phonenumber}" required><br>

			<button type="submit">Save</button>
		</form>

		<a th:href="@{/admin/list}">Back to List</a>
	</section>
	<script>
		function validateLoginForm() {
		var name = document.getElementById("name").value.trim();
		// var password = document.getElementById("password").value.trim();
		var email = document.getElementById("email").value.trim();
		var phonenumber = document.getElementById("phonenumber").value.trim();
		
		// Simple validation for name
		if (name === "") {
		  alert("Please enter your name");
		  return false;
		}
	  
		// Password validation
		if (password === "") {
		  alert("Please enter your password");
		  return false;
		}
		if (password.length < 8) {
		  alert("Password should be at least 8 characters long");
		  return false;
		}
		
		// Email validation
		if (email === "") {
		  alert("Please enter your email");
		  return false;
		}
		var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
		if (!email.match(emailRegex)) {
		  alert("Please enter a valid email address");
		  return false;
		}
	  
		// Phone number validation
		if (phonenumber === "") {
		  alert("Please enter your phone number");
		  return false;
		}
	  
		return true; 
	  }
	  </script>
</body>

</html>